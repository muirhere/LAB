<!DOCTYPE html> 
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="contactstyles/contactguide.css" />
        <link rel="stylesheet" href="contactstyles/contact.css" />
        <script src="https://cdn.jsdelivr.net/npm/emailjs-com@2/dist/email.min.js"></script>
    </head>
    <body>
        <div class="div">
            <img class="back" src="assets/images/socialback.png" />
            <img class="con" src="assets/fonts/Contact me Leave your email address here! _______________________.png" />
            <input type="text" id="user-input" name="user-input">
            <div class="button-container">
                <button class="image-button">
                    <img src="assets/fonts/button-image.png" alt="Button Image">
                </button>
            </div>            
        </div>

        <script>
            // Initialize EmailJS with your user ID
            (function(){
                emailjs.init("Muirhere"); // Replace with your EmailJS User ID
            })();

            document.querySelector('.image-button').addEventListener('click', (event) => {
                event.preventDefault();
                const userInput = document.getElementById('user-input').value;

                if (!userInput) {
                    alert("Please enter your email or message.");
                    return;
                }

                emailjs.send("MERE", "MERE", {
                    message: userInput
                }).then(response => {
                    console.log("Email sent successfully:", response);
                    window.location.href = 'http://127.0.0.1:5500/thanks.html'; // Redirect after submission
                }).catch(error => {
                    console.error("Error sending email:", error);
                    alert("Failed to send message. Please try again.");
                });
            });
        </script>        
    </body>
</html>
